program swapexample
  begin
    proc swap (a :  ref(int), b : ref(int)) {
      var tmp : int;
      tmp      := deref(a);
      deref(a) := deref(b);
      deref(b) := tmp;
  end;

  proc main ( ) 
    begin
      var x : int;
      var y : int; 
      var xr : ref (int);
      var yr : ref (int);
      x := 42; y := 84;
      xr := ref (x); yr := ref(y);
      swap (xr,yr);
    end;
  end;
 